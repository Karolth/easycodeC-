@{
    ViewData["Title"] = "Subir Imágenes";
    // Si usas un layout compartido, especifícalo aquí, por ejemplo: Layout = "_Layout";
    Layout = null; // Lo dejo nulo como en tu HTML original para un uso independiente.
}

<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewData["Title"]</title>
    <link rel="stylesheet" href="~/public/css/SubirImagen.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <h2><i class="fas fa-cloud-upload-alt"></i> Subir Imágenes</h2>
        
        @*
            NOTA IMPORTANTE:
            La acción del formulario necesita apuntar a un controlador y una acción en ASP.NET Core MVC.
            `asp-action` y `asp-controller` son los Tag Helpers correctos para esto.
            Asegúrate de tener un controlador (ej. `ImagenesController`) con un método de acción
            que maneje la subida de archivos (ej. `Subir`).
            `enctype="multipart/form-data"` es crucial para el envío de archivos.
        *@
        <form asp-action="Subir" asp-controller="Imagenes" method="post" enctype="multipart/form-data">
            <div class="drop-zone" id="dropZone">
                <div class="drag-text">
                    <i class="fas fa-images fa-2x"></i>
                    <p>Arrastra tus imágenes aquí o haz clic para seleccionar</p>
                </div>
                <input type="file" name="imagenes" id="imagenes" multiple required style="display: none;">
            </div>
            
            <div class="info-text">
                <i class="fas fa-info-circle"></i> Formatos permitidos: JPG, PNG, GIF. Tamaño máximo por archivo: 2MB.
            </div>
            
            <div class="preview-title">Vista previa:</div>
            <div id="previewContainer"></div>
            <div class="file-info" id="fileInfo">
                No hay archivos seleccionados
            </div>
            
            <button type="submit">
                Subir Imágenes
            </button>
        </form>
    </div>

    @*
        NOTA: Asegúrate de que tu archivo JavaScript esté en la carpeta `wwwroot/public/js/`.
        Este script manejará la lógica del drag-and-drop y la previsualización.
    *@
    <script src="~/public/js/SubirImagen.js"></script>
</body>
</html>